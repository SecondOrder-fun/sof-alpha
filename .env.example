# SecondOrder.fun Environment Template (.env.example)
# Copy to .env (root) and/or specific runtime files as needed.
# Frontend uses Vite (VITE_*). Backend uses non-VITE keys.

############################
# Frontend (Vite)
############################
# Default network selection for UI: LOCAL or TESTNET
VITE_DEFAULT_NETWORK=LOCAL

# Local / Anvil RPC
VITE_RPC_URL_LOCAL=http://127.0.0.1:8545

# Testnet RPC & chain metadata (adjust if not using Base Sepolia)
VITE_RPC_URL_TESTNET=
VITE_TESTNET_CHAIN_ID=84532
VITE_TESTNET_NAME=Sepolia
VITE_TESTNET_EXPLORER=https://sepolia.basescan.org

# Contract addresses (Frontend)
# Local
VITE_RAFFLE_ADDRESS_LOCAL=
VITE_SOF_ADDRESS_LOCAL=
VITE_SEASON_FACTORY_ADDRESS_LOCAL=
VITE_BONDING_CURVE_ADDRESS_LOCAL=
# Faucet contract (Frontend)
VITE_SOF_FAUCET_ADDRESS_LOCAL=
# Prize Distributor contract (Frontend)
VITE_PRIZE_DISTRIBUTOR_ADDRESS_LOCAL=
# InfoFi contracts (Frontend)
VITE_INFOFI_FACTORY_ADDRESS_LOCAL=
VITE_INFOFI_ORACLE_ADDRESS_LOCAL=
VITE_INFOFI_SETTLEMENT_ADDRESS_LOCAL=
VITE_INFOFI_FPMM_ADDRESS_LOCAL=
VITE_CONDITIONAL_TOKENS_ADDRESS_LOCAL=
# Testnet
VITE_RAFFLE_ADDRESS_TESTNET=
VITE_SOF_ADDRESS_TESTNET=
VITE_SEASON_FACTORY_ADDRESS_TESTNET=
VITE_BONDING_CURVE_ADDRESS_TESTNET=
# Faucet contract (Frontend)
VITE_SOF_FAUCET_ADDRESS_TESTNET=
# Prize Distributor contract (Frontend)
VITE_PRIZE_DISTRIBUTOR_ADDRESS_TESTNET=
# InfoFi contracts (Frontend)
VITE_INFOFI_FACTORY_ADDRESS_TESTNET=
VITE_INFOFI_ORACLE_ADDRESS_TESTNET=
VITE_INFOFI_SETTLEMENT_ADDRESS_TESTNET=
VITE_INFOFI_FPMM_ADDRESS_TESTNET=
VITE_CONDITIONAL_TOKENS_ADDRESS_TESTNET=
# Deprecated (legacy): INFOFI_MARKET was a single contract placeholder
# VITE_INFOFI_MARKET_ADDRESS_TESTNET=

# Farcaster (optional for frontend auth/components)
# VITE_FARCASTER_RPC_URL=
# VITE_FARCASTER_CLIENT_ID=
# VITE_FARCASTER_REDIRECT_URI=

############################
# Backend (Fastify)
############################
# Default network for backend read routes: LOCAL or TESTNET
DEFAULT_NETWORK=LOCAL

# Local / Anvil RPC
RPC_URL_LOCAL=http://127.0.0.1:8545
LOCAL_CHAIN_ID=31337
LOCAL_CHAIN_NAME=Anvil

# Testnet RPC & chain metadata
RPC_URL_TESTNET=https://sepolia.base.org
TESTNET_CHAIN_ID=84532
TESTNET_NAME=Sepolia

# Contract addresses (Backend)
# Local
RAFFLE_ADDRESS_LOCAL=
SOF_ADDRESS_LOCAL=
SEASON_FACTORY_ADDRESS_LOCAL=
BONDING_CURVE_ADDRESS_LOCAL=
# Faucet contract (Backend)
SOF_FAUCET_ADDRESS_LOCAL=
# Prize Distributor contract (Backend)
PRIZE_DISTRIBUTOR_ADDRESS_LOCAL=
# InfoFi contracts (Backend)
INFOFI_FACTORY_ADDRESS_LOCAL=
INFOFI_ORACLE_ADDRESS_LOCAL=
INFOFI_SETTLEMENT_ADDRESS_LOCAL=
INFOFI_FPMM_ADDRESS_LOCAL=
CONDITIONAL_TOKENS_ADDRESS_LOCAL=
# Deprecated (legacy): INFOFI_MARKET was a single contract placeholder
# INFOFI_MARKET_ADDRESS_LOCAL=
# Testnet
RAFFLE_ADDRESS_TESTNET=
SOF_ADDRESS_TESTNET=
SEASON_FACTORY_ADDRESS_TESTNET=
BONDING_CURVE_ADDRESS_TESTNET=
# Faucet contract (Backend)
SOF_FAUCET_ADDRESS_TESTNET=
# Prize Distributor contract (Backend)
PRIZE_DISTRIBUTOR_ADDRESS_TESTNET=
# InfoFi contracts (Backend)
INFOFI_FACTORY_ADDRESS_TESTNET=
INFOFI_ORACLE_ADDRESS_TESTNET=
INFOFI_SETTLEMENT_ADDRESS_TESTNET=
INFOFI_FPMM_ADDRESS_TESTNET=
CONDITIONAL_TOKENS_ADDRESS_TESTNET=

############################
# Server & Ops (Backend)
############################
# Fastify server
PORT=3000
HOST=0.0.0.0

# CORS origins (comma-separated), leave empty to allow all in dev
CORS_ORIGINS=http://localhost:5173

# Rate limiting (requests per minute)
RATE_LIMIT_RPM=1200

# Frontend Pricing Stream (SSE) base URL
# Used by the client to connect to `/stream/pricing/:marketId`
VITE_PRICING_STREAM_BASE=http://localhost:3000/api/stream/pricing

############################
# Base Paymaster Configuration
############################
# Base Mainnet RPC (Alchemy/Infura)
BASE_RPC_URL=https://mainnet.base.org
BASE_WEBSOCKET_RPC=wss://base-mainnet.ws.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Base Paymaster RPC URL (from Coinbase Developer Platform)
PAYMASTER_RPC_URL=https://api.developer.coinbase.com/rpc/v1/base/YOUR_CDP_KEY

# EntryPoint v0.6 address (required for Base Paymaster)
ENTRY_POINT_ADDRESS=0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789

# Backend Smart Account Private Key (generate new key for production)
BACKEND_SMART_ACCOUNT_KEY=0x...

# Base Sepolia (Testnet) - for testing
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org
BASE_SEPOLIA_WEBSOCKET_RPC=wss://base-sepolia.ws.alchemy.com/v2/YOUR_ALCHEMY_KEY
PAYMASTER_RPC_URL_TESTNET=https://api.developer.coinbase.com/rpc/v1/base-sepolia/YOUR_CDP_KEY

############################
# Frame.sh Deployment (Sepolia)
############################
# Frame.sh RPC endpoint (runs on localhost:1248 when Frame is running)
FRAME_RPC=http://127.0.0.1:1248

# Lattice address (derived from Frame wallet)
# Run: cast wallet address --rpc-url http://127.0.0.1:1248
LATTICE_ADDRESS=

# Deployment configuration for Sepolia
# Use this RPC URL in forge script commands:
# forge script script/deploy/00_DeployToSepolia.s.sol \
#   --rpc-url $FRAME_RPC \
#   --sender $LATTICE_ADDRESS \
#   --broadcast \
#   -vvvv

############################
# Optional: Database (if using Supabase or Postgres in backend)
############################
# SUPABASE_URL=
# SUPABASE_ANON_KEY=
# DATABASE_URL=

############################
# Redis Configuration (Username Storage)
############################
# Selector
REDIS_ENV=dev   # or staging/prod/local
# Local/dev fallback still works via default redis://localhost:6379
REDIS_URL=redis://localhost:6379
# Upstash dev
REDIS_URL_DEV=edis://localhost:6379
# Upstash staging
REDIS_URL_STAGING=rediss://:<PASSWORD>@<UPSTASH_HOST>:<PORT>
# Upstash prod
REDIS_URL_PROD=rediss://:<PASSWORD>@<UPSTASH_HOST>:<PORT>

ODDS_RETENTION_DAYS=90
ODDS_DOWNSAMPLE_THRESHOLD=500
ODDS_CLEANUP_INTERVAL_HOURS=24

# Production (Upstash Redis - uncomment and set for production)
# REDIS_URL=rediss://default:YOUR_PASSWORD@YOUR_ENDPOINT.upstash.io:6379
# REDIS_TOKEN=YOUR_UPSTASH_REST_TOKEN

############################
# Notes
############################
# - Do not commit real secrets to version control. Copy this file to .env and fill locally.
# - Frontend variables MUST be prefixed with VITE_ to be exposed to the client.
# - Backend must NEVER store private keys. All transactions are signed client-side.